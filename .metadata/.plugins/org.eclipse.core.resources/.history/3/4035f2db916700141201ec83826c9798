
public class OdometryCorrection extends Thread{
	private Odometer odo;
	
	private LightSensorController right,left;
	
	private static final int WIDTH = 3;
	
	private static final int LINE = 50;
	
	private static final int PERIOD = 500;
	
	private double xLast,yLast;
	
	private double x,y;
	
	
	
	public OdometryCorrection(Odometer odo, LightSensorController right, LightSensorController left){
		this.odo = odo;
		this.right = right;
		this.left = left;
	}
	
	public double calculate(boolean right){
		double xDist = xLast - x;
		double yDist = yLast - y;
		double result;
		
		double position = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));
		
		if(right){
			result = Math.PI/2 - Math.atan2(position, WIDTH);
		}
		else{
			result = Math.PI/2 + Math.atan2(position, WIDTH);
		}
		
		 return result;
		 
	}
	
	public double getNewTheta(double theta){
		double oldTheta = Math.toDegrees(odo.getTheta());
		
		//If facing north (
		if(oldTheta < 315 || oldTheta < 45){
			
		}
	}
	
	public void run(){
	
	}
	
}
